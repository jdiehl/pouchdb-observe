!function e(r,n,t){function i(s,c){if(!n[s]){if(!r[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=n[s]={exports:{}};r[s][0].call(f.exports,function(e){var n=r[s][1][e];return i(n?n:e)},f,f.exports,e,r,n,t)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<t.length;s++)i(t[s]);return i}({1:[function(e,r,n){"use strict";var t=e("./plugin");n.observe=t,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./plugin":2}],2:[function(e,r,n){"use strict";function t(e){e._observers=[],e.changes({since:"now",live:!0,include_docs:!0}).on("change",function(r){e._observers.forEach(function(e){e.processChange(r)})})}var i=e("./observer-get"),o=e("./observer-find");r.exports=function(e,r){var n=this;void 0===n._observers&&t(n);var s;return s="string"==typeof e?new i(n,e,r):new o(n,e,r),n._observers.push(s),s.remove=function(){var e=n._observers.indexOf(s);e>=0&&n._observers.splice(e,1)},s}},{"./observer-find":3,"./observer-get":4}],3:[function(e,r,n){"use strict";function t(e,r,n){switch(n instanceof Date&&"string"==typeof r&&(r=new Date(r)),r instanceof Date&&n instanceof Date&&(r-=n,n=0),e){case"$eq":return r===n;case"$gt":return r>n;case"$gte":return r>=n;case"$lt":return n>r;case"$lte":return n>=r;case"$in":return n.indexOf(r)>=0;case"$ne":case"$nin":return n.indexOf(r)<0;case"$exists":return n?"undefined"!=typeof r:"undefined"==typeof r;case"$type":return typeof r===n;default:console.warn("Unknown comparator: "+e)}return!0}function i(e,r){for(var n in r)if(r.hasOwnProperty(n)){var i=e[n];for(var o in r[n])if(r[n].hasOwnProperty(o)&&!t(o,i,r[n][o]))return!1}return!0}function o(e,r){for(var n in e)if(e[n]._id===r)return n;return-1}r.exports=function(e,r,n){function t(e){u.items.splice(e,1),u.trigger()}function s(e,r){u.items.splice(e,1,r),u.trigger()}function c(e){u.items.push(e),u.trigger()}var u=this;u.request=r,u.callback=n,e.find(u.request).then(function(e){u.items=e.docs,u.trigger()}),u.processChange=function(e){var n=o(u.items,e.id),f=i(e.doc,r.selector);return 0>n&&!f?void 0:n>=0&&(e.deleted||!f)?t(n):n>=0&&f?s(n,e.doc):0>n&&f?c(e.doc):void 0};var f;u.trigger=function(){f||(f=!0,setTimeout(function(){f=!1,n(u.items)}))}}},{}],4:[function(e,r,n){"use strict";r.exports=function(e,r,n){var t=this;t.id=r,t.callback=n,e.get(t.id).then(function(e){t.doc=e,t.trigger()}),t.processChange=function(e){e.id===t.id&&(t.doc=e.doc,t.trigger())};var i;t.trigger=function(){i||(i=!0,setTimeout(function(){i=!1,n(t.doc)}))}}},{}]},{},[1]);