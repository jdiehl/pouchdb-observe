!function e(r,n,t){function i(s,c){if(!n[s]){if(!r[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var a=n[s]={exports:{}};r[s][0].call(a.exports,function(e){var n=r[s][1][e];return i(n?n:e)},a,a.exports,e,r,n,t)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<t.length;s++)i(t[s]);return i}({1:[function(e,r,n){"use strict";var t=e("./plugin");n.observe=t,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./plugin":2}],2:[function(e,r){"use strict";function n(e){e._observers=[],e.changes({since:"now",live:!0,include_docs:!0}).on("change",function(r){e._observers.forEach(function(e){e.processChange(r)})})}var t=e("./observer-get"),i=e("./observer-find");r.exports=function(e,r){var o=this;void 0===o._observers&&n(o);var s;return s="string"==typeof e?new t(o,e,r):new i(o,e,r),o._observers.push(s),s.remove=function(){var e=o._observers.indexOf(s);e>=0&&o._observers.splice(e,1)},s}},{"./observer-find":3,"./observer-get":4}],3:[function(e,r){"use strict";function n(e,r,n){switch(r instanceof Date&&n instanceof Date&&(r-=n,n=0),e){case"$eq":return r===n;case"$ne":return r!==n;case"$gt":return r>n;case"$gte":return r>=n;case"$lt":return n>r;case"$lte":return n>=r;case"$in":return n.indexOf(r)>=0;case"$nin":return n.indexOf(r)<0;case"$exists":return n?"undefined"!=typeof r:"undefined"==typeof r;case"$type":return typeof r===n;default:console.warn("Unknown comparator: "+e)}return!0}function t(e,r){for(var t in r)if(r.hasOwnProperty(t)){var i=e[t];for(var o in r[t])if(r[t].hasOwnProperty(o)&&!n(o,i,r[t][o]))return!1}return!0}function i(e,r){for(var n in e)if(e[n]._id===r)return n;return-1}r.exports=function(e,r,n){function o(e){u.items.splice(e,1),u.trigger()}function s(e,r){u.items.splice(e,1,r),u.trigger()}function c(e){u.items.push(e),u.trigger()}var u=this;u.request=r,u.callback=n,e.find(u.request).then(function(e){u.items=e.docs,u.trigger()}),u.processChange=function(e){var n=i(u.items,e.id),f=t(e.doc,r.selector);return 0>n&&!f?void 0:n>=0&&(e.deleted||!f)?o(n):n>=0&&f?s(n,e.doc):0>n&&f?c(e.doc):void 0};var f;u.trigger=function(){f||(f=!0,setTimeout(function(){f=!1,n(u.items)}))}}},{}],4:[function(e,r){"use strict";r.exports=function(e,r,n){var t=this;t.id=r,t.callback=n,e.get(t.id).then(function(e){t.doc=e,t.trigger()}),t.processChange=function(e){e.id===t.id&&(t.doc=e.doc,t.trigger())};var i;t.trigger=function(){i||(i=!0,setTimeout(function(){i=!1,n(t.doc)}))}}},{}]},{},[1]);